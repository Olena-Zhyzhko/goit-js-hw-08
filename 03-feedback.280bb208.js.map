{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAOsG,MAAhGC,EAAOC,SAASC,cAAc,kBACpCC,QAAQC,IAAIJ,GAEZ,IAAIK,GA+BJ,WAII,GAAmB,OAFAC,aAAaC,QAlCX,uBAqCjB,OAIJF,EAAcG,KAAKC,MAAMH,aAAaC,QAzCjB,wBAgDEG,EAJLL,EAKlBL,EAAKW,SAASC,MAAMC,MAAQH,EAAQE,MACpCZ,EAAKW,SAASG,QAAQD,MAAQH,EAAQI,QAF1C,IAA2BJ,EA7C3BK,GAEAf,EAAKgB,iBAAiB,SAAS,EAAAlB,EAAAmB,WAK/B,SAAkBC,GACd,MAAMN,EAAQM,EAAMC,cAAcR,SAASC,MAAMC,MAC3CC,EAAUI,EAAMC,cAAcR,SAASG,QAAQD,MACrDV,QAAQC,IAAIQ,EAAOE,GAeAM,EAbA,C,MACfR,E,QACAE,GAYRR,aAAae,QA7BY,sBA6Bcb,KAAKc,UAAUF,IADtD,IAAuBA,IAvB2B,MAGlDpB,EAAKgB,iBAAiB,UA6CtB,SAAsBE,EAAOK,GACzBL,EAAMM,iBAENrB,QAAQC,IAAII,KAAKC,MAAMH,aAAaC,QAxDf,yBA8DrBD,aAAamB,WA9DQ,uBA+DrBzB,EAAKW,SAASC,MAAMC,MAAQ,GAC5Bb,EAAKW,SAASG,QAAQD,MAAQ","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\n// Відстежуй на формі подію input, і щоразу записуй у локальне сховище об'єкт з полями email і message, у яких зберігай поточні значення полів форми. Нехай ключем для сховища буде рядок \"feedback-form-state\".\n// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, заповнюй ними поля форми. В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищуй сховище і поля форми, а також виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n// Зроби так, щоб сховище оновлювалось не частіше, ніж раз на 500 мілісекунд. Для цього додай до проекту і використовуй бібліотеку lodash.throttle.\n\nconst form = document.querySelector(\".feedback-form\");\nconsole.log(form);\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\nlet parsedValue;\n\nupdauteInput();\n\nform.addEventListener(\"input\", throttle(getInput, 500));\n// autoCompleteValue(parsedValue);\n// console.log(parsedValue);\nform.addEventListener(\"submit\", onSabmitForm);\n\nfunction getInput(event) {\n    const email = event.currentTarget.elements.email.value;\n    const message = event.currentTarget.elements.message.value;\n    console.log(email, message);\n\n    const inputValue = {\n        email,\n        message,\n    }\n    // console.log(\"оновдюэьбся сховище\");\n    saveFormValue(inputValue);\n}\n\n// function getFeedback(getInput) {\n//     console.log(inputValue);\n//     return inputValue;\n// }\n\nfunction saveFormValue(inputValueEl) {\nlocalStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(inputValueEl));\n}\n\nfunction updauteInput() {\n\n    const savedValue = localStorage.getItem(LOCALSTORAGE_KEY);\n\n    if (savedValue === null) {\n        return\n    }\n\n    // parsedValue = JSON.parse(savedValue);\n    parsedValue = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n    // console.log(parsedValue);\n    \n    autoCompleteValue(parsedValue);\n    // return parsedValue;\n}\n\nfunction autoCompleteValue(valueEl) {\n    form.elements.email.value = valueEl.email;\n    form.elements.message.value = valueEl.message;\n}\n\nfunction onSabmitForm(event, parsedValue) {\n    event.preventDefault();\n        // getFeedback(getInput);\n    console.log(JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)));\n    // console.log(parsedValue);\n    clinerLocStor();\n}\n\nfunction clinerLocStor() {\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n    form.elements.email.value = \"\";\n    form.elements.message.value = \"\";\n}\n\n// return serializedState === null ? undefined : JSON.parse(serializedState);\n\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","console","log","$945622fd0f572e60$var$parsedValue","localStorage","getItem","JSON","parse","valueEl","elements","email","value","message","$945622fd0f572e60$var$updauteInput","addEventListener","throttle","event","currentTarget","inputValueEl","setItem","stringify","parsedValue","preventDefault","removeItem"],"version":3,"file":"03-feedback.280bb208.js.map"}